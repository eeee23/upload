<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;">
<title>页面</title>
</head>
<body>
    <div>这是一个储存页面</div>
    <div id="nan"></div>
    <script type="text/javascript">
        function getParams(key) {
            var reg = new RegExp("(^|&)" + key + "=([^&]*)(&|$)");
            var r = window.location.search.substr(1).match(reg);
            if (r != null) {
                return r[2];
            }
            return null;
        };
        console.log("参数param1:"+getParams("name"));
        console.log("参数param2:"+getParams("text"));
        if (getParams("name")==null && getParams("text")==null)
        {
            document.getElementById("nan").innerHTML = decodeURIComponent(window.localStorage.upload);
        }
        else
        {
            window.localStorage.setItem("upload", window.localStorage.upload+encodeURIComponent(encodeURIComponent(getParams("name"))+":"+encodeURIComponent(getParams("text"))+"\n"));
            document.getElementById("nan").innerHTML = decodeURIComponent(decodeURIComponent(window.localStorage.upload));
        }
    </script>
</body>
</html>
